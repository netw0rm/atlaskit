@import 'shared-variables.less';

@ak-avatar-size-xlarge: 100px;
@ak-avatar-size-large: 50px;
@ak-avatar-size-medium: 30px;
@ak-avatar-size-small: 20px;

@ak-avatar-background: #F0F2F5;

// Used to calculate how large the presence icon should be
@ak-avatar-presence-img-ratio: 0.25;
// Angle that the presence bubble sits on the avatar. 3:00 is 0 degrees
@ak-avatar-presence-angle: 40deg;

@ak-avatar-presence-color-online: #48CC8C;
@ak-avatar-presence-color-away: #FFC400;
@ak-avatar-presence-color-busy: #D93A35;
@ak-avatar-presence-color-offline: #8993A4;


.img {
  background-clip: padding-box;
  margin: 0 auto;
  border-radius: 100%;
  height: 100%;
  width: 100%;
}

.outerDiv {
  position: relative;
  background-color: @ak-avatar-background;
  border-radius: 100%;
  border: 1px solid transparent;
  text-align: center;
  vertical-align: bottom;

  &.small {
    .sizeMixin(@ak-avatar-size-small);

    .presence {
      @presence-size: 8px;
      @presence-offset: 12px;

      .presenceMixin(@presence-size, @presence-offset);
    }

    font-size: 12px;
    font-weight: 600;
  }
  &.medium {
    .sizeMixin(@ak-avatar-size-medium);

    .presence {
      @presence-size: 8px;
      @presence-offset: 20px;

      .presenceMixin(@presence-size, @presence-offset);
    }

    font-size: 14px;
    font-weight: 600;
  }
  &.large {
    .sizeMixin(@ak-avatar-size-large);

    .presence {
      @presence-size: 12px;
      @presence-offset: 35px;

      .presenceMixin(@presence-size, @presence-offset);
    }

    font-size: 24px;
    font-weight: 500;
  }
  &.xlarge {
    .sizeMixin(@ak-avatar-size-xlarge);

    .presence {
      @presence-size: 22px;
      @presence-offset: 72px;

      .presenceMixin(@presence-size, @presence-offset);

      border-width: 4px;
    }

    font-size: 46px;
    font-weight: 500;
  }
}

.presence {
  position: absolute;

  border: 2px solid #ffffff;
  border-radius: 100%;

  &.none {
    display: none;
  }

  &.online {
    background: @ak-avatar-presence-color-online;
  }

  &.away {
    background: @ak-avatar-presence-color-away;
  }

  &.busy {
    background: @ak-avatar-presence-color-busy;
  }

  &.offline {
    background: @ak-avatar-presence-color-offline;
  }
}

.presenceMixin(@size, @offset) {
  height: @size;
  width: @size;

  top: @offset;
  left: @offset;
}

.sizeMixin(@size) {
  height: @size;
  width: @size;
  line-height: @size;
}