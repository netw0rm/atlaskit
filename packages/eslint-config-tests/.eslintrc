/* This extends the default .eslintrc with some rules that should apply to all tests directories
   .eslintrc files in those directories will need to extend this file and any extra rules they may
   need.
   Any new rules that apply to all tests should be placed here.                                   */

{
  "name": "@atlaskit/eslint-config-tests",
  "extends": "@atlaskit/eslint-config-base",
  "env": {
    "mocha": true
  },
  "globals": {
    "expect": false,  // will be defined globally, false prevents overriding them
    "sinon": false
  },
  "plugins": [
    "eslint-plugin-mocha"
  ],
  "rules": {
    // https://github.com/lo1tuma/eslint-plugin-mocha/blob/master/docs/rules/no-exclusive-tests.md
    // Disallow describe.only and it.only
    "mocha/no-exclusive-tests": "error",

    // https://github.com/lo1tuma/eslint-plugin-mocha/blob/master/docs/rules/handle-done-callback.md
    // Disallow describe.skip and it.skip
    "mocha/no-skipped-tests": "error",

    // https://github.com/lo1tuma/eslint-plugin-mocha/blob/master/docs/rules/handle-done-callback.md
    // Enforces handling of callbacks for async tests
    "mocha/handle-done-callback": "error",

    // https://github.com/lo1tuma/eslint-plugin-mocha/blob/master/docs/rules/no-pending-tests.md
    // Disallow pending/unimplemented mocha tests
    "mocha/no-pending-tests": "error",

    // https://github.com/benmosher/eslint-plugin-import/blob/master/docs/rules/no-extraneous-dependencies.md
    // Allowing the use of dependencies that are not defined in package.json
    // We do this because packages can use dependencies from the root as well
    // as from other rolled up packages such eslint-config-ak-base.
    "import/no-extraneous-dependencies": "off"
  }
}
